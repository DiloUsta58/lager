<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Materialliste</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<!-- =========================
     LOGIN-BEREICH
========================= -->
<form id="loginForm" onsubmit="login(event)">
    <div id="loginBox">
      <h3>ðŸ”’ Anmeldung erforderlich</h3>
      <input id="userInput" placeholder="Benutzer">
      <input id="passInput" type="password" placeholder="Passwort">
      <button type="submit">Anmelden</button>
    </div>
</form>


<!-- =========================
     GESCHÃœTZTE APP
========================= -->
<div id="app" style="display:none">
  <h2>Materialliste</h2>
        <button  id="resetMaterialDataBtn"  class="admin-btn danger"  onclick="resetMaterialData()" style="display:none">  Initialdaten neu laden</button>
        <button id="themeToggleBtn" onclick="toggleTheme()">ðŸŒ™ Dark Mode</button>
        <!-- Logout sperrt die komplette Liste wieder -->
        <button onclick="logout()">Logout</button>
        <!-- Key-Freischaltung -->
        <input id="keyInput" type="password" placeholder="Key eingeben">
        <button id="unlockBtn" onclick="unlockEditing()">Freischalten</button>
        <button onclick="lockEditing()">Sperren</button>
        <span id="status"></span>

        <!-- TAB-BUTTONS -->
        <div class="tab-bar">
          <button class="tab-btn" onclick="TabController.show('ke')">KE</button>
          <button class="tab-btn" onclick="TabController.show('fs')">FS</button>
          <button class="tab-btn" onclick="TabController.show('history')">Historie</button>
        </div>

  <hr>
<center>
  <!-- Such- & Steuerleiste -->
    <div id="keToolbar">
      <input id="search" placeholder="Suche (Material, E-Nummer, Regal)">
      <select id="categoryFilter">
        <option value="">Alle Kategorien</option>
      </select>
    </div>
</center>

  <!-- =========================
       KE SECTION
  ========================= -->
  <div id="KeSection">
    <div class="ke-column-controls">
      <label class="locked"><input type="checkbox" checked disabled> Material</label>
      <label><input type="checkbox" data-col="e" checked> E-Nummer</label>
      <label><input type="checkbox" data-col="charge" checked> Charge-Nr.</label>
      <label><input type="checkbox" data-col="palette" checked> Paletten-Nr.</label>
      <label><input type="checkbox" data-col="regal" checked> Regal</label>
      <label><input type="checkbox" data-col="bestand" checked> Bestand</label>
      <label><input type="checkbox" data-col="bemerkung" checked> Bemerkung</label>
    </div>

    <div class="table-fullwidth">
      <div class="table-scroll">
        <table class="lager-table KE-table">
          <thead>
            <tr>
              <th></th>
              <th>Material</th>
              <th>E-Nummer</th>
              <th>Charge-Nr.</th>
              <th>Paletten-Nr.</th>
              <th>Regal</th>
              <th>Bestand</th>
              <th>Bemerkung</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="tableBody"></tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- =========================
       FS SECTION
  ========================= -->
  <div id="fsSection" style="display:none">
    <div class="fs-column-controls">
      <label><input type="checkbox" data-col="kurz">Kurz</label>
      <label class="locked"><input type="checkbox" checked disabled>Bezeichnung</label>
      <label><input type="checkbox" data-col="material">Material</label>
      <label><input type="checkbox" data-col="stueck" checked>StÃ¼ckzahl</label>
      <label><input type="checkbox" data-col="e" checked>E-Nummer</label>
      <label><input type="checkbox" data-col="kuerzel">KÃ¼rzel</label>
      <label><input type="checkbox" data-col="bestand" checked>Bestand Konsilager</label>
      <label><input type="checkbox" data-col="dpc">DPC</label>
    </div>

    <div class="table-scroll">
      <table class="lager-table fs-table">
        <thead>
          <tr>
            <th>Kurz</th>
            <th>Bezeichnung</th>
            <th>Material</th>
            <th>StÃ¼ckzahl</th>
            <th>E-Nummer</th>
            <th>KÃ¼rzel</th>
            <th>Bestand Konsilager</th>
            <th>DPC</th>
          </tr>
        </thead>
        <tbody id="fsTableBody"></tbody>
      </table>
    </div>
  </div>

  <!-- =========================
       HISTORY SECTION
  ========================= -->
  <div id="historySection" style="display:none; margin-top:20px;">
    <h3 class="section-title">Ã„nderungshistorie</h3>
    <div class="history-controls">
      <button onclick="toggleHistory()">Historie anzeigen / ausblenden</button>
      <button onclick="clearHistory()">Historie lÃ¶schen</button>
    </div>

    <table id="historyTable" class="lager-table history-table" style="display:none; margin-top:10px;">
      <thead>
        <tr>
          <th>Zeit</th>
          <th>Feld</th>
          <th>Alt</th>
          <th>Neu</th>
        </tr>
      </thead>
      <tbody id="historyBody"></tbody>
    </table>
  </div>
</div>

<!-- SCRIPTS -->
<script src="js/data_store.js"></script>
<script src="js/daten.js"></script>
<script src="js/daten_fs.js"></script>

</body>
</html>
